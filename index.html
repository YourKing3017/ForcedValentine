<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Valentine?</title>

<style>
:root{
  --bg:#fff5f7;
  --text:#111;
  --yes:#22c55e;
  --no:#f43f5e;
}

html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  overflow:hidden;
}

/* layout */
.wrap{
  position:relative;
  width:100vw;
  height:100vh;
  user-select:none;
}

h1{
  position:absolute;
  top:42px;
  left:50%;
  transform:translateX(-50%);
  font-size:28px;
  font-weight:800;
  margin:0;
}

#result{
  position:absolute;
  bottom:28px;
  width:100%;
  text-align:center;
  font-size:16px;
}

/* buttons */
.btn{
  position:absolute;
  width:140px;
  height:56px;
  border:none;
  border-radius:999px;
  color:#fff;
  font-weight:800;
  font-size:18px;
  cursor:pointer;
  box-shadow:0 1px 0 rgba(0,0,0,.15);
}
#yes{background:var(--yes)}
#no{background:var(--no)}

.btn-inner{
  display:grid;
  place-items:center;
  width:100%;
  height:100%;
}

/* ===== Celebration Layer ===== */

#fx{
  position:absolute;
  inset:0;
  pointer-events:none;
}

#celebrate{
  position:absolute;
  inset:0;
  pointer-events:none;
  display:none;
}

#celebrate.show{display:block}

.card{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%) scale(.8);
  padding:20px 28px;
  border-radius:20px;
  background:rgba(255,255,255,.8);
  backdrop-filter:blur(8px);
  box-shadow:0 16px 40px rgba(0,0,0,.15);
  text-align:center;
  animation:pop .55s cubic-bezier(.2,1.2,.2,1) forwards;
}

@keyframes pop{
  from{opacity:0;transform:translate(-50%,-50%) scale(.6)}
  to{opacity:1;transform:translate(-50%,-50%) scale(1)}
}

.card .title{
  font-size:30px;
  font-weight:900;
}

.card .sub{
  font-size:14px;
  opacity:.7;
}

/* hearts */
.heart{
  position:absolute;
  animation:float 1400ms ease-out forwards;
}

@keyframes float{
  from{opacity:1;transform:translate(0,0) scale(.8)}
  to{opacity:0;transform:translate(var(--dx),var(--dy)) scale(1.4)}
}

/* cupid */
#cupid{
  position:absolute;
  top:25%;
  left:-80px;
  font-size:50px;
  opacity:0;
}

#celebrate.fly #cupid{
  animation:fly 1.4s ease-in-out forwards;
}

@keyframes fly{
  0%{left:-80px;opacity:0}
  10%{opacity:1}
  100%{left:calc(100% + 80px);opacity:0}
}
</style>
</head>

<body>
<div class="wrap" id="wrap">

<h1>Will you be my valentine?</h1>

<button id="yes" class="btn"><span class="btn-inner">Yes</span></button>
<button id="no"  class="btn"><span class="btn-inner">No</span></button>

<canvas id="fx"></canvas>

<div id="celebrate">
  <div class="card">
    <div class="title">Yay! Luv u 2! ðŸ’–</div>
    <div class="sub">Happy Valentineâ€™s Day</div>
  </div>
  <div id="cupid">ðŸ’˜</div>
</div>

<div id="result">&nbsp;</div>

</div>

<script>
/* =============================
   YOUR EXISTING BUTTON LOGIC
============================= */

const wrap = document.getElementById('wrap');
const yesBtn = document.getElementById('yes');
const noBtn = document.getElementById('no');
const result = document.getElementById('result');

const yesBase = {w:140,h:56};
const noBase = {w:140,h:56};

const YES_MAX=1.3, YES_MIN=1;
const NO_MIN=.7, NO_MAX=1;

const TRIGGER_DIST=160;
const TELEPORT_DIST=5;

let noVX=0,noVY=0;

let yesBasePos,noPos;

/* position buttons */
function layout(){
  const w=wrap.clientWidth;
  const h=wrap.clientHeight;
  const cy=h*0.55;

  yesBasePos={x:w/2-170,y:cy-28};
  noPos={x:w/2+30,y:cy-28};

  setBtn(yesBtn,yesBasePos,1,true);
  setBtn(noBtn,noPos,1,false);
}
layout();
window.onresize=layout;

function setBtn(btn,pos,scale,center){
  const w=noBase.w*scale,h=noBase.h*scale;
  if(center){
    btn.style.left=(pos.x+noBase.w/2-w/2)+'px';
    btn.style.top=(pos.y+noBase.h/2-h/2)+'px';
  }else{
    btn.style.left=pos.x+'px';
    btn.style.top=pos.y+'px';
  }
  btn.style.width=w+'px';
  btn.style.height=h+'px';
}

/* dodge logic */
wrap.onmousemove=e=>{
  const rect=noBtn.getBoundingClientRect();
  const dx=e.clientX-(rect.left+rect.width/2);
  const dy=e.clientY-(rect.top+rect.height/2);
  const d=Math.hypot(dx,dy);

  let yesScale=1,noScale=1;

  if(d<TRIGGER_DIST){
    const t=(TRIGGER_DIST-d)/TRIGGER_DIST;
    yesScale=YES_MIN+(YES_MAX-YES_MIN)*t;
    noScale=NO_MAX-(NO_MAX-NO_MIN)*t;
  }

  setBtn(yesBtn,yesBasePos,yesScale,true);

  if(d<TELEPORT_DIST){
    noPos.x=Math.random()*(wrap.clientWidth-140);
    noPos.y=Math.random()*(wrap.clientHeight-140);
  }else{
    noVX+=(-dx/d)*2.5;
    noVY+=(-dy/d)*2.5;
    noVX*=.9; noVY*=.9;
    noPos.x+=noVX; noPos.y+=noVY;
  }

  setBtn(noBtn,noPos,noScale,false);
};

/* =============================
   CELEBRATION EFFECTS
============================= */

const fx=document.getElementById('fx');
const ctx=fx.getContext('2d');
const celebrate=document.getElementById('celebrate');

function resizeFX(){
  fx.width=wrap.clientWidth;
  fx.height=wrap.clientHeight;
}
resizeFX();
window.addEventListener('resize',resizeFX);

let particles=[];

function burst(x,y){
  for(let i=0;i<80;i++){
    const a=Math.random()*6.28;
    const s=2+Math.random()*5;
    particles.push({x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,life:60});
  }
}

function animate(){
  ctx.clearRect(0,0,fx.width,fx.height);
  particles.forEach(p=>{
    p.x+=p.vx;
    p.y+=p.vy;
    p.vy+=.1;
    p.life--;
    ctx.fillStyle=`hsl(${Math.random()*360},80%,60%)`;
    ctx.fillRect(p.x,p.y,3,3);
  });
  particles=particles.filter(p=>p.life>0);
  if(particles.length)requestAnimationFrame(animate);
}

function hearts(){
  for(let i=0;i<20;i++){
    const h=document.createElement('div');
    h.className='heart';
    h.textContent='ðŸ’–';
    h.style.left=wrap.clientWidth/2+'px';
    h.style.top=wrap.clientHeight/2+'px';
    h.style.setProperty('--dx',(Math.random()*300-150)+'px');
    h.style.setProperty('--dy',(-300-Math.random()*200)+'px');
    wrap.appendChild(h);
    setTimeout(()=>h.remove(),1400);
  }
}

function celebrateYes(){
  result.textContent='Yay! Luv u 2!';
  celebrate.classList.add('show');
  celebrate.classList.add('fly');

  burst(wrap.clientWidth/2,wrap.clientHeight/2);
  hearts();
  animate();

  setTimeout(()=>{
    celebrate.classList.remove('show');
    celebrate.classList.remove('fly');
  },2000);
}

yesBtn.onclick=celebrateYes;
noBtn.onclick=()=>result.textContent='Noooooo how did u click it :(';

</script>
</body>
</html>
